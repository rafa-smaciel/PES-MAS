{
  "rag_system": {
    "name": "VIXEM Edge RAG System",
    "version": "2.0.0",
    "description": "Sistema de Recupera√ß√£o e Gera√ß√£o Aumentada para recomenda√ß√µes industriais inteligentes",
    "last_updated": "2025-07-24T14:30:00Z",
    "comments": {
      "purpose": "Configura√ß√£o central do sistema RAG para an√°lise industrial automatizada",
      "usage": "Este arquivo controla TODOS os par√¢metros de an√°lise, thresholds de alerta e comportamento da IA"
    }
  },

  "openai_integration": {
    "_comment": "ü§ñ Configura√ß√µes da API OpenAI para gera√ß√£o inteligente de recomenda√ß√µes",
    "api_version": "v1",
    "base_url": "https://api.openai.com/v1",
    "model_primary": "gpt-4o",
    "model_primary_comment": "Modelo principal - mais inteligente e preciso",
    "model_fallback": "gpt-4",
    "model_fallback_comment": "Modelo alternativo se o principal falhar",
    "max_tokens": 2000,
    "max_tokens_comment": "Tamanho m√°ximo da resposta (2000 = ~1500 palavras)",
    "temperature": 0.3,
    "temperature_comment": "Criatividade: 0.0=rob√≥tico, 1.0=criativo. 0.3=equilibrado para ind√∫stria",
    "timeout_seconds": 30,
    "timeout_seconds_comment": "Tempo limite para resposta da IA (30s √© seguro)",
    "retry_attempts": 3,
    "retry_attempts_comment": "Quantas vezes tentar se der erro",
    "retry_delay_ms": 1000,
    "retry_delay_ms_comment": "Aguardar 1 segundo entre tentativas",
    "cost_optimization": {
      "enabled": true,
      "max_daily_requests": 1000,
      "cost_limit_usd": 50.0,
      "comment": "Prote√ß√£o contra custos excessivos - m√°ximo $50/dia"
    }
  },

  "recommendation_engine": {
    "_comment": "üéØ Motor principal de an√°lise - aqui est√£o as 'regras' que definem quando algo √© problema",
    
    "analysis_patterns": {
      "_comment": "Padr√µes que o sistema procura automaticamente nos dados de produ√ß√£o",
      
      "alta_taxa_rejeicao": {
        "enabled": true,
        "threshold": 0.15,
        "threshold_comment": "CR√çTICO: 15% de rejei√ß√£o dispara alerta (ajuste conforme sua realidade)",
        "window_hours": 24,
        "window_hours_comment": "Analisa √∫ltimas 24 horas para detectar o padr√£o",
        "min_samples": 10,
        "min_samples_comment": "Precisa de pelo menos 10 pe√ßas para an√°lise ser v√°lida",
        "priority_weight": 5,
        "priority_weight_comment": "Prioridade m√°xima (1-5) - problema grave que precisa a√ß√£o imediata",
        "severity_thresholds": {
          "medium": 0.15,
          "high": 0.25,
          "critical": 0.35,
          "comment": "15%=m√©dio, 25%=alto, 35%=cr√≠tico"
        },
        "description": "Taxa de rejei√ß√£o acima do limite aceit√°vel para produ√ß√£o industrial"
      },

      "sequencia_rejeicoes": {
        "enabled": true,
        "consecutive_limit": 5,
        "consecutive_limit_comment": "ALERTA: 5 rejei√ß√µes seguidas indica problema sistem√°tico",
        "time_window_minutes": 30,
        "time_window_minutes_comment": "Considera 'seguidas' se acontecer em at√© 30 minutos",
        "priority_weight": 4,
        "priority_weight_comment": "Alta prioridade - indica falha do processo",
        "escalation_rules": {
          "3_consecutive": "warning",
          "5_consecutive": "alert", 
          "10_consecutive": "critical",
          "comment": "Escalation: 3=aviso, 5=alerta, 10=cr√≠tico"
        },
        "description": "Sequ√™ncia de rejei√ß√µes consecutivas indicando instabilidade do processo"
      },

      "padrao_temporal": {
        "enabled": true,
        "deviation_threshold": 0.10,
        "deviation_threshold_comment": "PADR√ÉO: 10% pior que a m√©dia geral indica problema no hor√°rio",
        "min_hourly_samples": 5,
        "min_hourly_samples_comment": "Precisa de 5+ pe√ßas por hora para an√°lise ser confi√°vel",
        "priority_weight": 3,
        "priority_weight_comment": "Prioridade m√©dia - problema localizado em hor√°rio espec√≠fico",
        "time_analysis": {
          "shift_patterns": true,
          "break_patterns": true,
          "weekend_patterns": false,
          "comment": "Analisa padr√µes por turno e pausas, ignora fins de semana"
        },
        "description": "Padr√µes de qualidade que variam por hor√°rio, turno ou operador"
      },

      "lotes_pequenos": {
        "enabled": true,
        "optimal_batch_size": 300,
        "optimal_batch_size_comment": "Baseado no Item 1318 - tamanho √≥timo √© ~300 pe√ßas",
        "small_batch_threshold": 0.3,
        "small_batch_threshold_comment": "Lotes menores que 30% do √≥timo (90 pe√ßas) s√£o 'pequenos'",
        "frequency_threshold": 0.4,
        "frequency_threshold_comment": "Se 40%+ dos lotes s√£o pequenos, gera alerta",
        "priority_weight": 2,
        "priority_weight_comment": "Baixa prioridade - impacta efici√™ncia mas n√£o qualidade",
        "description": "Detec√ß√£o de lotes muito pequenos que prejudicam efici√™ncia"
      }
    },

    "confidence_weights": {
      "_comment": "üéØ Como calcular o n√≠vel de 'certeza' das recomenda√ß√µes (soma deve dar 1.0)",
      "sample_size_factor": 0.3,
      "sample_size_factor_comment": "30% da confian√ßa vem da quantidade de dados (mais dados = mais confian√ßa)",
      "consistency_factor": 0.4,
      "consistency_factor_comment": "40% da confian√ßa vem da consist√™ncia (padr√£o sempre se repete = mais confian√ßa)",
      "temporal_factor": 0.3,
      "temporal_factor_comment": "30% da confian√ßa vem da distribui√ß√£o no tempo (problema recente = mais confian√ßa)",
      "validation_rules": {
        "min_confidence": 0.3,
        "comment": "S√≥ gera recomenda√ß√£o se confian√ßa >= 30%"
      }
    },

    "priority_mapping": {
      "_comment": "üö® Tradu√ß√£o dos n√∫meros de prioridade para a√ß√µes pr√°ticas",
      "5": {
        "name": "critica",
        "action": "PARE A PRODU√á√ÉO - Interven√ß√£o imediata necess√°ria",
        "color": "#dc3545",
        "notification": "immediate",
        "escalation": "supervisor"
      },
      "4": {
        "name": "alta", 
        "action": "A√ß√£o urgente - Resolver nas pr√≥ximas 2 horas",
        "color": "#fd7e14",
        "notification": "urgent",
        "escalation": "team_lead"
      },
      "3": {
        "name": "media",
        "action": "A√ß√£o planejada - Resolver no turno atual",
        "color": "#ffc107",
        "notification": "normal",
        "escalation": "operator"
      },
      "2": {
        "name": "baixa",
        "action": "Monitoramento - Observar tend√™ncia",
        "color": "#17a2b8",
        "notification": "low",
        "escalation": "none"
      },
      "1": {
        "name": "muito_baixa",
        "action": "Informativo - Apenas para conhecimento",
        "color": "#6c757d",
        "notification": "info",
        "escalation": "none"
      }
    },

    "machine_learning": {
      "_comment": "üß† Configura√ß√µes para aprendizado cont√≠nuo do sistema",
      "enabled": true,
      "learning_rate": 0.1,
      "historical_weight": 0.7,
      "recent_weight": 0.3,
      "comment": "Sistema aprende: 70% hist√≥rico + 30% dados recentes"
    }
  },

  "prompt_templates": {
    "_comment": "üìù Templates para comunica√ß√£o com a IA - definem como ela deve responder",
    
    "system_prompt": "Voc√™ √© um especialista em engenharia de produ√ß√£o com 20 anos de experi√™ncia em melhoria cont√≠nua. Analise dados industriais e forne√ßa recomenda√ß√µes pr√°ticas, espec√≠ficas e acion√°veis. Use linguagem t√©cnica mas clara. Foque sempre na causa raiz e solu√ß√µes implement√°veis.",
    
    "analysis_prompt": "DADOS DA AN√ÅLISE:\n\nM√°quina: {machine_id}\nItem: {item_name}\nPer√≠odo: {time_period}\n\nPADR√ïES DETECTADOS:\n{patterns}\n\nCONTEXTO ADICIONAL:\n{context}\n\nTAREFA: Baseado nos padr√µes acima, gere uma recomenda√ß√£o industrial espec√≠fica seguindo esta estrutura:\n\n1. DIAGN√ìSTICO: Qual √© o problema principal?\n2. CAUSA RAIZ: Por que est√° acontecendo?\n3. A√á√ïES IMEDIATAS: O que fazer agora?\n4. A√á√ïES PREVENTIVAS: Como evitar no futuro?\n5. IMPACTO ESPERADO: Qual melhoria √© esperada?\n\nSeja direto, pr√°tico e focado em a√ß√µes que o operador pode executar.",

    "emergency_prompt": "SITUA√á√ÉO CR√çTICA DETECTADA! Analise rapidamente e forne√ßa apenas as 3 a√ß√µes mais urgentes para resolver este problema de produ√ß√£o: {critical_pattern}",

    "trend_analysis_prompt": "Analise esta tend√™ncia de {days} dias na m√°quina {machine_id}: {trend_data}. Identifique se √© melhoria, deteriora√ß√£o ou estabilidade. Explique as poss√≠veis causas e recomende pr√≥ximos passos.",

    "comparative_prompt": "Compare a performance atual da {machine_id} com:\n- Hist√≥rico pr√≥prio: {historical}\n- Benchmark industrial: {benchmark}\n- Outras m√°quinas: {peers}\n\nIdentifique gaps e oportunidades de melhoria."
  },

  "knowledge_base": {
    "_comment": "üìö Base de conhecimento industrial - causas comuns para cada tipo de problema",
    
    "common_causes": {
      "alta_rejeicao": {
        "mechanical": [
          "Desalinhamento de ferramentas de corte",
          "Desgaste excessivo de componentes cr√≠ticos",
          "Folgas em guias e mancais",
          "Vibra√ß√£o excessiva da m√°quina"
        ],
        "process": [
          "Par√¢metros de velocidade inadequados",
          "Press√£o de corte incorreta",
          "Lubrifica√ß√£o insuficiente",
          "Temperatura de processo fora da faixa"
        ],
        "material": [
          "Varia√ß√£o dimensional da mat√©ria-prima",
          "Dureza do material fora de especifica√ß√£o",
          "Contamina√ß√£o ou impurezas",
          "Lote de material defeituoso"
        ],
        "human": [
          "Operador inexperiente ou mal treinado",
          "Procedimento n√£o seguido corretamente",
          "Setup incorreto da m√°quina",
          "Falta de calibra√ß√£o regular"
        ]
      },

      "sequencia_rejeicoes": [
        "Falha intermitente de sensor ou atuador",
        "Deriva gradual de par√¢metros de processo",
        "Problema na alimenta√ß√£o de material",
        "Instabilidade no controle autom√°tico",
        "Ferramenta perdendo o fio gradualmente",
        "Aquecimento excessivo afetando precis√£o"
      ],

      "padrao_temporal": {
        "inicio_turno": [
          "M√°quina ainda n√£o aquecida adequadamente",
          "Setup inicial incorreto ou incompleto",
          "Operador ainda se adaptando ao ritmo",
          "Par√¢metros n√£o ajustados para condi√ß√µes atuais"
        ],
        "fim_turno": [
          "Fadiga do operador afetando aten√ß√£o",
          "Pressa para cumprir meta de produ√ß√£o",
          "Manuten√ß√£o preventiva atrasada",
          "Falta de material de qualidade no fim do lote"
        ],
        "pos_pausa": [
          "M√°quina esfriou durante a pausa",
          "Par√¢metros n√£o reajustados ap√≥s parada",
          "Material exposto a condi√ß√µes ambientais",
          "Falta de reaquecimento adequado"
        ]
      }
    },

    "best_practices": {
      "_comment": "‚úÖ Melhores pr√°ticas industriais por categoria",
      "quality_control": [
        "Implementar CEP (Controle Estat√≠stico de Processo)",
        "Usar dispositivos poka-yoke (√† prova de erro)",
        "Realizar inspe√ß√£o em processo a cada 10 pe√ßas",
        "Manter cartas de controle atualizadas"
      ],
      "preventive_maintenance": [
        "Seguir cronograma rigoroso de manuten√ß√£o",
        "Monitorar vibra√ß√£o e temperatura continuamente",
        "Substituir componentes preventivamente",
        "Manter registro detalhado de interven√ß√µes"
      ],
      "operator_training": [
        "Treinamento inicial de 40 horas m√≠nimo",
        "Reciclagem trimestral obrigat√≥ria",
        "Certifica√ß√£o em procedimentos cr√≠ticos",
        "Acompanhamento de desempenho individual"
      ]
    },

    "industry_benchmarks": {
      "_comment": "üìä Benchmarks industriais para compara√ß√£o",
      "world_class": {
        "oee": 0.85,
        "quality_rate": 0.995,
        "availability": 0.90,
        "performance": 0.95,
        "comment": "Padr√£o mundial de excel√™ncia"
      },
      "average": {
        "oee": 0.65,
        "quality_rate": 0.92,
        "availability": 0.75,
        "performance": 0.85,
        "comment": "M√©dia da ind√∫stria brasileira"
      },
      "minimum_acceptable": {
        "oee": 0.50,
        "quality_rate": 0.85,
        "availability": 0.65,
        "performance": 0.75,
        "comment": "M√≠nimo aceit√°vel para manter competitividade"
      }
    }
  },

  "machine_specific": {
    "_comment": "üîß Configura√ß√µes espec√≠ficas por m√°quina - permite personaliza√ß√£o",
    
    "MAQUINA-450": {
      "item": "1318",
      "item_name": "Placa Sextavada",
      "optimal_batch_size": 300,
      "quality_target": 0.99,
      "cycle_time_target": 45,
      "custom_thresholds": {
        "alta_taxa_rejeicao": 0.12,
        "sequencia_rejeicoes": 4,
        "comment": "Esta m√°quina tem toler√¢ncias mais apertadas"
      },
      "specific_causes": [
        "Desalinhamento do mandril sextavado",
        "Desgaste da ferramenta de chanfro",
        "Varia√ß√£o na dureza do a√ßo 1045"
      ],
      "maintenance_schedule": "weekly",
      "critical_parameters": [
        "Press√£o de fixa√ß√£o: 5.5 bar",
        "Velocidade de corte: 180 rpm", 
        "Avan√ßo: 0.15 mm/rev"
      ]
    },

    "DEFAULT": {
      "_comment": "Configura√ß√µes padr√£o para m√°quinas n√£o especificadas",
      "optimal_batch_size": 250,
      "quality_target": 0.95,
      "cycle_time_target": 60,
      "maintenance_schedule": "monthly"
    }
  },

  "notification_system": {
    "_comment": "üîî Como e quando notificar pessoas sobre problemas",
    
    "channels": {
      "dashboard": {
        "enabled": true,
        "priority_threshold": 2,
        "comment": "Mostra no dashboard se prioridade >= 2"
      },
      "email": {
        "enabled": false,
        "priority_threshold": 4,
        "recipients": ["supervisor@empresa.com"],
        "comment": "Email apenas para problemas cr√≠ticos"
      },
      "sms": {
        "enabled": false,
        "priority_threshold": 5,
        "comment": "SMS apenas para situa√ß√µes de emerg√™ncia"
      }
    },

    "escalation_matrix": {
      "level_1": {
        "priority": [1, 2],
        "action": "log_only",
        "responsible": "system"
      },
      "level_2": {
        "priority": [3],
        "action": "notify_operator",
        "responsible": "operator"
      },
      "level_3": {
        "priority": [4],
        "action": "notify_supervisor",
        "responsible": "supervisor"
      },
      "level_4": {
        "priority": [5],
        "action": "emergency_protocol",
        "responsible": "manager"
      }
    }
  },

  "performance_optimization": {
    "_comment": "‚ö° Configura√ß√µes para otimizar performance do sistema",
    
    "caching": {
      "enabled": true,
      "ttl_minutes": 30,
      "max_entries": 1000,
      "comment": "Cache por 30min para evitar rec√°lculos desnecess√°rios"
    },

    "database": {
      "batch_size": 100,
      "query_timeout": 5000,
      "connection_pool": 10,
      "comment": "Otimiza√ß√µes para MongoDB"
    },

    "analysis_limits": {
      "max_records_per_analysis": 10000,
      "max_analysis_time_seconds": 120,
      "concurrent_analyses": 3,
      "comment": "Limites para evitar sobrecarga do sistema"
    }
  },

  "debugging": {
    "_comment": "üêõ Configura√ß√µes para debug e troubleshooting",
    
    "logging": {
      "level": "info",
      "detailed_analysis": false,
      "save_raw_data": false,
      "comment": "Logs detalhados podem impactar performance"
    },

    "test_mode": {
      "enabled": false,
      "mock_ai_responses": false,
      "force_patterns": [],
      "comment": "Modo de teste para desenvolvimento"
    }
  },

  "version_info": {
    "_comment": "üìã Informa√ß√µes de versionamento do arquivo",
    "config_version": "2.0.0",
    "created_date": "2025-07-24",
    "created_by": "VIXEM Edge Team",
    "last_modified": "2025-07-24T14:30:00Z",
    "changelog": [
      "2.0.0: Configura√ß√£o completa com todos os padr√µes",
      "1.0.0: Vers√£o inicial com apenas alta_taxa_rejeicao"
    ]
  }
}
